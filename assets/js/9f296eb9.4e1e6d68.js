"use strict";(self.webpackChunkkratix_docs=self.webpackChunkkratix_docs||[]).push([[6453],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>d});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),p=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},l=function(e){var n=p(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),m=p(t),d=o,h=m["".concat(c,".").concat(d)]||m[d]||u[d]||i;return t?r.createElement(h,s(s({ref:n},l),{},{components:t})):r.createElement(h,s({ref:n},l))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=m;var a={};for(var c in n)hasOwnProperty.call(n,c)&&(a[c]=n[c]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var p=2;p<i;p++)s[p]=t[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},517:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>p});var r=t(7462),o=(t(7294),t(3905));const i={id:"intro"},s="Resource Requests",a={unversionedId:"main/reference/resource-requests/intro",id:"main/reference/resource-requests/intro",title:"Resource Requests",description:"One of the components of a Promise is the",source:"@site/docs/main/05-reference/04-resource-requests/01-intro.md",sourceDirName:"main/05-reference/04-resource-requests",slug:"/main/reference/resource-requests/intro",permalink:"/docs/main/reference/resource-requests/intro",draft:!1,editUrl:"https://github.com/syntasso/kratix-docs/tree/main/docs/main/05-reference/04-resource-requests/01-intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"intro"},sidebar:"mainSidebar",previous:{title:"Deleting",permalink:"/docs/main/reference/promises/deleting-a-promise"},next:{title:"Deleting",permalink:"/docs/main/reference/resource-requests/deleting-a-resource-request"}},c={},p=[],l={toc:p};function u(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"resource-requests"},"Resource Requests"),(0,o.kt)("p",null,"One of the components of a ",(0,o.kt)("a",{parentName:"p",href:"../promises/intro"},"Promise")," is the\n",(0,o.kt)("inlineCode",{parentName:"p"},"xaasCrd"),". In it, Promise Authors set the contract between the Platform and its\nusers, defining what properties the user can configured in the Promised\nservice."),(0,o.kt)("p",null,"The Resource Request is the document Platform Users write, following the contract, to\nrequest the creation of instances of that Promised Service. Each Promise have their own\ncontract, so each Promise will have their own Resource Request format."),(0,o.kt)("p",null,"Consider a Promise with the following ",(0,o.kt)("inlineCode",{parentName:"p"},"xaasCrd"),", paying special attention to the\nhighlighted fields:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"showLineNumbers",showLineNumbers:!0},"apiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: someservice.example.promise.syntasso.io\nspec:\n  # highlight-next-line\n  group: example.promise.syntasso.io\n  names:\n    # highlight-next-line\n    kind: someservice\n    plural: someservices\n    singular: someservice\n  scope: Namespaced\n  versions:\n  # highlight-next-line\n  - name: v1\n    served: true\n    storage: true\n    schema:\n      openAPIV3Schema:\n        type: object\n        properties:\n          # highlight-start\n          spec:\n            type: object\n            properties:\n              region: {type: string}\n              storageGB: {type: integer}\n          # highlight-end\n")),(0,o.kt)("p",null,"The Schema in this Promise defines, as the contract, two properties under ",(0,o.kt)("inlineCode",{parentName:"p"},"spec"),": a\nstring ",(0,o.kt)("inlineCode",{parentName:"p"},"region")," and a integer ",(0,o.kt)("inlineCode",{parentName:"p"},"storageGB"),"."),(0,o.kt)("p",null,"A user of the Platform would write a Resource Request that looks like the following\ndocument:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"# Promise spec.group and versions\napiVersion: example.promise.syntasso.io/v1\n\n# Promise spec.names.kind\nkind: someservice\n\n# Name of this Resource Request\nmetadata:\n  name: some-name\n\n# From the spec.versions.v1 Schema\nspec:\n  region: some-region\n  storageGB: 10\n")),(0,o.kt)("p",null,"When applied to the Platform Cluster, Kratix will trigger the Pipelines, passing the\nResource Request YAML as an input. The Pipeline can then decide what needs to be done to\ncreate an instance of the service with the user-provided values."),(0,o.kt)("p",null,"For a in-depth exploration of the Resource Request and Pipelines, check the ",(0,o.kt)("a",{parentName:"p",href:"../../guides/writing-a-promise"},"Writing a\nPromise")," and ",(0,o.kt)("a",{parentName:"p",href:"../../guides/enhancing-a-promise"},"Enhancing a\nPromise")," guides."))}u.isMDXComponent=!0}}]);